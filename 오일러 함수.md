# 오일러 함수

## 오일러 피함수 ( Euler phi function)

$$
\varphi(n) 
$$

$$
φ(n)≡∣{m:1≤m≤n,gcd(m,n)=1}∣ (n∈N)
$$

이름대로 레온하르트 오일러가 정의한 함수다. gcd는 최대공약수이고, 따라서 n과 서로소인 n이하의 자연수의 개수이다.



이 함수는 다양한 성질들을 지니고 있다.
$$
φ(ab)=φ(a)φ(b)
$$
*φ*는 곱셉적 함수(multiplicative function)이다.(단, a와 b는 서로소)



또, 임의의 소수 p 에 대해서,  
$$
φ(p^n)=p^n−p^{n−1}=p^n(1−{1 \over p})
$$




__페르마 소정리__ 

소수 p와 자연수 a 가 gcd(a, p) ≡ 1 을 만족하면 (즉, a는 p의 배수가 아니다.)
$$
a^{p-1} ≡ 1 (mod p).
$$


__오일러 정리__

자연수 n, a가 gcd(a, n) ≡ 1을 만족할 경우,
$$
a^{\varphi(n)} ≡ 1 (mod n)
$$






## 16214_N과 M

```
문제
임의의 자연수 N과 M이 주어져 있다. A^B를 A의 B승이라고 할 때, 수열 N, N^N, N^(N^N), N^(N^(N^N)), ... 의 수들을 M으로 나눈 나머지는 수열의 어느 지점부터 항상 일정한 값을 가진다. N과 M이 주어져 있을 때, 이 일정한 나머지 값을 계산하라.

입력
첫 번째 줄에는 질의의 개수 T가 주어진다. 질의는 1개 이상 1000개 이하이다.

두 번째 줄부터 T+1번째 줄까지는 각 질의에 해당하는 자연수 N과 M이 주어진다. N과 M은 둘 다 10^9 이하이다.

출력
각 질의의 N과 M에 대해, N^(N^(N^(N^...))의 값을 M으로 나눈 나머지를 구하여라. 나머지의 값은 0 이상 M 미만이어야 한다.
```

```
# 입력
4
1 1
3 4
28 43
370 205
```

```
# 출력
0
3
36
165
```

